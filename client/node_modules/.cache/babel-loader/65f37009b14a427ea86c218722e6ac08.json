{"ast":null,"code":"import _slicedToArray from\"/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import{Typography}from'@mui/material';import{Box}from'@mui/system';import React,{useEffect,useState,useContext}from'react';import Avatar from'@mui/material/Avatar';import{styled}from'@mui/material/styles';import Badge from'@mui/material/Badge';import{ChatContext}from'../Context/ChatContext';import{ChatIDContext}from'../Context/ChatIDContext';import axios from'../axios';import{baseUrl}from'../url';import{UserContext}from'../Context/Context';import SearchIcon from'@mui/icons-material/Search';import InputBase from'@mui/material/InputBase';import'./background/bg.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledBox=styled(Box)({display:\"flex\",gap:2,width:380,alignItems:\"center\",borderRadius:4});var Search=styled('div')(function(_ref){var theme=_ref.theme;return _defineProperty({position:'relative',borderRadius:'0.5rem',backgroundColor:'white','&:hover':{backgroundColor:'white'},marginLeft:0,width:'100%'},theme.breakpoints.up('sm'),{marginLeft:theme.spacing(1),width:'auto'});});var SearchIconWrapper=styled('div')(function(_ref3){var theme=_ref3.theme;return{padding:theme.spacing(0,2),height:'100%',position:'absolute',pointerEvents:'none',display:'flex',alignItems:'center',justifyContent:'center'};});var StyledInputBase=styled(InputBase)(function(_ref4){var theme=_ref4.theme;return{color:'inherit','& .MuiInputBase-input':_defineProperty({padding:theme.spacing(1,1,1,0),// vertical padding + font size from searchIcon\npaddingLeft:\"calc(1em + \".concat(theme.spacing(4),\")\"),transition:theme.transitions.create('width'),width:'100%'},theme.breakpoints.up('sm'),{width:'12ch','&:focus':{width:'20ch'}})};});var StyledBadge=styled(Badge)(function(_ref5){var theme=_ref5.theme;return{'& .MuiBadge-badge':{backgroundColor:'#44b700',color:'#44b700',boxShadow:\"0 0 0 2px \".concat(theme.palette.background.paper),'&::after':{position:'absolute',top:0,left:0,width:'100%',height:'100%',borderRadius:'50%',animation:'ripple 1.2s infinite ease-in-out',border:'1px solid currentColor',content:'\"\"'}},'@keyframes ripple':{'0%':{transform:'scale(.8)',opacity:1},'100%':{transform:'scale(2.4)',opacity:0}}};});function SideBar(_ref6){var socket=_ref6.socket,useradmin=_ref6.useradmin,message=_ref6.message;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useContext=useContext(ChatContext),setChat=_useContext.setChat,chat=_useContext.chat;var _useContext2=useContext(ChatIDContext),setChatID=_useContext2.setChatID,setChatURL=_useContext2.setChatURL;var _useContext3=useContext(UserContext),userId=_useContext3.userId;useEffect(function(){axios.get(\"\".concat(baseUrl,\"/activeUsers\"),{withCredentials:true}).then(function(response){setUsers(response.data);console.log(response.data);},[useradmin]);},[]);return/*#__PURE__*/_jsx(Box,{pt:13,children:/*#__PURE__*/_jsx(Box,{sx:{width:{xs:\"100%\",sm:'35%',md:\"25%\"},height:\"100%\",bgcolor:\"#f7f7f8\",position:\"fixed\",mt:-1},children:/*#__PURE__*/_jsx(Box,{sx:{overflowY:\"scroll\",overflow:'hidden',mt:-1},children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',pr:'2.6%'},children:[/*#__PURE__*/_jsxs(Search,{sx:{ml:'0.5rem',mt:'1rem'},children:[/*#__PURE__*/_jsx(SearchIconWrapper,{children:/*#__PURE__*/_jsx(SearchIcon,{})}),/*#__PURE__*/_jsx(StyledInputBase,{placeholder:\"Search\\u2026\",inputProps:{'aria-label':'search'}})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h8\",fontWeight:\"100\",mt:2,ml:2,children:\"Online Friends\"})]}),users.map(function(user){return user.userId!==userId&&/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsxs(StyledBox,{onClick:function onClick(){setChat(user.userName);setChatID(user.userId);setChatURL(user.imageUrl);},height:70,sx:{width:'100%','&:hover':{backgroundColor:'#E6E6E6'}},pl:2,children:[/*#__PURE__*/_jsx(StyledBadge,{overlap:\"circular\",anchorOrigin:{vertical:'bottom',horizontal:'right'},variant:\"dot\",children:/*#__PURE__*/_jsx(Avatar,{alt:\"Remy Sharp\",src:baseUrl+'/'+user.imageUrl})}),/*#__PURE__*/_jsxs(Box,{ml:2,children:[/*#__PURE__*/_jsx(Typography,{level:\"body1\",color:\"#638bfa\",children:user.userName}),message&&/*#__PURE__*/_jsx(Typography,{sx:{fontSize:'0.9rem',color:'#808080'},children:user.userName===message.user&&!chat&&message.text})]})]})});})]})})})});}export default SideBar;","map":{"version":3,"names":["Typography","Box","React","useEffect","useState","useContext","Avatar","styled","Badge","ChatContext","ChatIDContext","axios","baseUrl","UserContext","SearchIcon","InputBase","StyledBox","display","gap","width","alignItems","borderRadius","Search","theme","position","backgroundColor","marginLeft","breakpoints","up","spacing","SearchIconWrapper","padding","height","pointerEvents","justifyContent","StyledInputBase","color","paddingLeft","transition","transitions","create","StyledBadge","boxShadow","palette","background","paper","top","left","animation","border","content","transform","opacity","SideBar","socket","useradmin","message","users","setUsers","setChat","chat","setChatID","setChatURL","userId","get","withCredentials","then","response","data","console","log","xs","sm","md","bgcolor","mt","overflowY","overflow","flexDirection","pr","ml","map","user","userName","imageUrl","vertical","horizontal","fontSize","text"],"sources":["/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/src/components/SideBar.jsx"],"sourcesContent":["import { Typography } from '@mui/material'\nimport { Box } from '@mui/system'\nimport React, { useEffect, useState, useContext } from 'react'\nimport Avatar from '@mui/material/Avatar';\nimport { styled } from '@mui/material/styles';\nimport Badge from '@mui/material/Badge';\nimport { ChatContext } from '../Context/ChatContext';\nimport { ChatIDContext } from '../Context/ChatIDContext';\nimport axios from '../axios'\nimport { baseUrl } from '../url';\nimport { UserContext } from '../Context/Context';\nimport SearchIcon from '@mui/icons-material/Search';\nimport InputBase from '@mui/material/InputBase';\nimport './background/bg.css'\n\nconst StyledBox = styled(Box)({\n    display: \"flex\",\n    gap: 2,\n    width: 380,\n    alignItems: \"center\",\n    borderRadius: 4,\n})\n\nconst Search = styled('div')(({ theme }) => ({\n    position: 'relative',\n    borderRadius: '0.5rem',\n    backgroundColor: 'white',\n    '&:hover': {\n        backgroundColor: 'white',\n    },\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n        marginLeft: theme.spacing(1),\n        width: 'auto',\n    },\n}));\n\nconst SearchIconWrapper = styled('div')(({ theme }) => ({\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n}));\n\nconst StyledInputBase = styled(InputBase)(({ theme }) => ({\n    color: 'inherit',\n    '& .MuiInputBase-input': {\n        padding: theme.spacing(1, 1, 1, 0),\n        // vertical padding + font size from searchIcon\n        paddingLeft: `calc(1em + ${theme.spacing(4)})`,\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            width: '12ch',\n            '&:focus': {\n                width: '20ch',\n            },\n        },\n    },\n}));\n\nconst StyledBadge = styled(Badge)(({ theme }) => ({\n    '& .MuiBadge-badge': {\n        backgroundColor: '#44b700',\n        color: '#44b700',\n        boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n        '&::after': {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            borderRadius: '50%',\n            animation: 'ripple 1.2s infinite ease-in-out',\n            border: '1px solid currentColor',\n            content: '\"\"',\n        },\n    },\n    '@keyframes ripple': {\n        '0%': {\n            transform: 'scale(.8)',\n            opacity: 1,\n        },\n        '100%': {\n            transform: 'scale(2.4)',\n            opacity: 0,\n        },\n    },\n}));\n\nfunction SideBar({ socket, useradmin, message }) {\n    const [users, setUsers] = useState([]);\n    const { setChat, chat } = useContext(ChatContext)\n    const { setChatID, setChatURL } = useContext(ChatIDContext)\n    const { userId } = useContext(UserContext)\n\n    useEffect(() => {\n        axios.get(`${baseUrl}/activeUsers`, { withCredentials: true }).then((response) => {\n            setUsers(response.data)\n            console.log(response.data);\n        }, [useradmin])\n\n    }, []);\n\n    return (\n\n        <Box pt={13} >\n            <Box sx={{\n                width: { xs: \"100%\", sm: '35%', md: \"25%\" },\n                height: \"100%\",\n                bgcolor: \"#f7f7f8\",\n                position: \"fixed\",\n                mt: -1\n            }}>\n                <Box sx={{\n                    overflowY: \"scroll\",\n                    overflow: 'hidden',\n                    mt: -1\n                }}>\n                    <Box>\n                        <Box sx={{\n                            display: 'flex',\n                            flexDirection: 'column',\n                            pr: '2.6%'\n                        }}>\n                            <Search sx={{ ml: '0.5rem', mt: '1rem' }}>\n                                <SearchIconWrapper>\n                                    <SearchIcon />\n                                </SearchIconWrapper>\n                                <StyledInputBase\n                                    placeholder=\"Search…\"\n                                    inputProps={{ 'aria-label': 'search' }}\n                                />\n                            </Search>\n                            <Typography variant=\"h8\" fontWeight=\"100\" mt={2} ml={2}>Online Friends</Typography>\n                        </Box>\n                        {users.map((user) => user.userId !== userId && (\n                            <Box>\n                                <StyledBox onClick={() => {\n                                    setChat(user.userName)\n                                    setChatID(user.userId)\n                                    setChatURL(user.imageUrl)\n                                }}\n                                    height={70}\n                                    sx={{\n                                        width: '100%',\n                                        '&:hover': {\n                                            backgroundColor: '#E6E6E6',\n                                        }\n                                    }}\n                                    pl={2}\n                                >\n                                    <StyledBadge\n                                        overlap=\"circular\"\n                                        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\n                                        variant=\"dot\"\n\n                                    >\n                                        <Avatar alt=\"Remy Sharp\" src={baseUrl + '/' + user.imageUrl} />\n                                    </StyledBadge>\n                                    <Box ml={2} >\n                                        <Typography level='body1' color='#638bfa'>{user.userName}</Typography>\n                                        {message && (<Typography sx={{ fontSize: '0.9rem', color: '#808080' }}  >{user.userName === message.user && !chat && message.text}</Typography>)}\n                                    </Box>\n                                </StyledBox>\n                            </Box>\n                        ))}\n                    </Box>\n                </Box>\n            </Box>\n        </Box>\n\n    )\n}\n\nexport default SideBar"],"mappings":"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"},"metadata":{},"sourceType":"module"}