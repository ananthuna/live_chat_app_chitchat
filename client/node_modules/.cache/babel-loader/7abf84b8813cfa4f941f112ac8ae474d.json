{"ast":null,"code":"var _jsxFileName = \"/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/src/components/UploadAndSelectimage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport Button from '@mui/material/Button';\nimport { UserContext } from '../Context/Context';\nimport axios from '../axios';\nimport { Box, Typography } from \"@mui/material\";\nimport { baseUrl } from '../url';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UploadAndDisplayImage = _ref => {\n  _s();\n\n  let {\n    user\n  } = _ref;\n  const [images, setImages] = useState();\n  const {\n    setImage\n  } = useContext(UserContext);\n  const {\n    setProfilePhoto\n  } = useContext(UserContext);\n\n  const upload = event => {\n    setImages(event.target.files[0]);\n    const data = new FormData();\n    data.append('file', event.target.files[0]);\n    data.append('name', user.Name);\n    axios.post(`${baseUrl}/imageUpdate`, data, {\n      withCredentials: true\n    }).then(doc => {});\n  };\n\n  const uploadFile = () => {\n    console.log('img uploaded');\n    setImage(false);\n    setProfilePhoto(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      children: \"Upload Image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), images && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"not fount\",\n        width: \"250px\",\n        src: user.imageURL\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: uploadFile,\n        sx: {\n          mt: 1,\n          mb: 1,\n          pl: 2\n        },\n        variant: \"contained\",\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      name: \"file\",\n      onChange: upload\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UploadAndDisplayImage, \"JQ5BzcwTtoSyCnlOg7EspdgCxJ4=\");\n\n_c = UploadAndDisplayImage;\nexport default UploadAndDisplayImage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadAndDisplayImage\");","map":{"version":3,"names":["React","useContext","useState","Button","UserContext","axios","Box","Typography","baseUrl","UploadAndDisplayImage","user","images","setImages","setImage","setProfilePhoto","upload","event","target","files","data","FormData","append","Name","post","withCredentials","then","doc","uploadFile","console","log","imageURL","mt","mb","pl"],"sources":["/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/src/components/UploadAndSelectimage.jsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport Button from '@mui/material/Button';\nimport { UserContext } from '../Context/Context'\nimport axios from '../axios'\nimport { Box, Typography } from \"@mui/material\";\nimport { baseUrl } from '../url';\n\nconst UploadAndDisplayImage = ({user}) => {\n  const [images, setImages] = useState();\n  const { setImage } = useContext(UserContext);\n  const { setProfilePhoto } = useContext(UserContext);\n\n  const upload = (event) => {\n    setImages(event.target.files[0]);\n    const data = new FormData();\n    data.append('file', event.target.files[0]);\n    data.append('name',user.Name)\n    axios.post(`${baseUrl}/imageUpdate`, data, { withCredentials: true }).then((doc) => {\n    \n    })\n  }\n\n  const uploadFile = () => {\n    console.log('img uploaded')\n    setImage(false)\n    setProfilePhoto(false)\n  }\n\n  return (\n    <Box>\n      <Typography>Upload Image</Typography>\n      {images && (\n        <div>\n          <img alt=\"not fount\" width={\"250px\"} src={user.imageURL} />\n          <br />\n          <Button onClick={uploadFile} sx={{ mt: 1, mb: 1, pl: 2 }} variant=\"contained\">Upload</Button>\n        </div>\n      )}\n      <input\n        type=\"file\"\n        name=\"file\"\n        onChange={upload}\n      />\n    </Box>\n  );\n};\n\nexport default UploadAndDisplayImage;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,WAAT,QAA4B,oBAA5B;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,GAAT,EAAcC,UAAd,QAAgC,eAAhC;AACA,SAASC,OAAT,QAAwB,QAAxB;;;AAEA,MAAMC,qBAAqB,GAAG,QAAY;EAAA;;EAAA,IAAX;IAACC;EAAD,CAAW;EACxC,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBV,QAAQ,EAApC;EACA,MAAM;IAAEW;EAAF,IAAeZ,UAAU,CAACG,WAAD,CAA/B;EACA,MAAM;IAAEU;EAAF,IAAsBb,UAAU,CAACG,WAAD,CAAtC;;EAEA,MAAMW,MAAM,GAAIC,KAAD,IAAW;IACxBJ,SAAS,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAD,CAAT;IACA,MAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;IACAD,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoBL,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAApB;IACAC,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAmBX,IAAI,CAACY,IAAxB;IACAjB,KAAK,CAACkB,IAAN,CAAY,GAAEf,OAAQ,cAAtB,EAAqCW,IAArC,EAA2C;MAAEK,eAAe,EAAE;IAAnB,CAA3C,EAAsEC,IAAtE,CAA4EC,GAAD,IAAS,CAEnF,CAFD;EAGD,CARD;;EAUA,MAAMC,UAAU,GAAG,MAAM;IACvBC,OAAO,CAACC,GAAR,CAAY,cAAZ;IACAhB,QAAQ,CAAC,KAAD,CAAR;IACAC,eAAe,CAAC,KAAD,CAAf;EACD,CAJD;;EAMA,oBACE,QAAC,GAAD;IAAA,wBACE,QAAC,UAAD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,EAEGH,MAAM,iBACL;MAAA,wBACE;QAAK,GAAG,EAAC,WAAT;QAAqB,KAAK,EAAE,OAA5B;QAAqC,GAAG,EAAED,IAAI,CAACoB;MAA/C;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE,QAAC,MAAD;QAAQ,OAAO,EAAEH,UAAjB;QAA6B,EAAE,EAAE;UAAEI,EAAE,EAAE,CAAN;UAASC,EAAE,EAAE,CAAb;UAAgBC,EAAE,EAAE;QAApB,CAAjC;QAA0D,OAAO,EAAC,WAAlE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHF;IAAA;MAAA;MAAA;MAAA;IAAA,QAHJ,eASE;MACE,IAAI,EAAC,MADP;MAEE,IAAI,EAAC,MAFP;MAGE,QAAQ,EAAElB;IAHZ;MAAA;MAAA;MAAA;IAAA,QATF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAiBD,CAtCD;;GAAMN,qB;;KAAAA,qB;AAwCN,eAAeA,qBAAf"},"metadata":{},"sourceType":"module"}