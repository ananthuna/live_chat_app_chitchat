{"ast":null,"code":"import _toConsumableArray from\"/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import{Typography}from'@mui/material';import{Box}from'@mui/system';import React,{useEffect,useState,useContext}from'react';import Avatar from'@mui/material/Avatar';import{styled}from'@mui/material/styles';import Badge from'@mui/material/Badge';import{ChatContext}from'../Context/ChatContext';// import { ChatIDContext } from '../Context/ChatIDContext';\n// import axios from '../axios'\n// import { baseUrl } from '../url';\nimport{UserContext}from'../Context/Context';import SearchIcon from'@mui/icons-material/Search';import InputBase from'@mui/material/InputBase';import socket from'../socket';import'./background/bg.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledBox=styled(Box)({display:\"flex\",gap:2,width:380,alignItems:\"center\",borderRadius:4});var Search=styled('div')(function(_ref){var theme=_ref.theme;return _defineProperty({position:'relative',borderRadius:'0.5rem',backgroundColor:'white','&:hover':{backgroundColor:'white'},marginLeft:0,width:'100%'},theme.breakpoints.up('sm'),{marginLeft:theme.spacing(1),width:'auto'});});var SearchIconWrapper=styled('div')(function(_ref3){var theme=_ref3.theme;return{padding:theme.spacing(0,2),height:'100%',position:'absolute',pointerEvents:'none',display:'flex',alignItems:'center',justifyContent:'center'};});var StyledInputBase=styled(InputBase)(function(_ref4){var theme=_ref4.theme;return{color:'inherit','& .MuiInputBase-input':_defineProperty({padding:theme.spacing(1,1,1,0),// vertical padding + font size from searchIcon\npaddingLeft:\"calc(1em + \".concat(theme.spacing(4),\")\"),transition:theme.transitions.create('width'),width:'100%'},theme.breakpoints.up('sm'),{width:'12ch','&:focus':{width:'20ch'}})};});var StyledBadge=styled(Badge)(function(_ref5){var theme=_ref5.theme;return{'& .MuiBadge-badge':{backgroundColor:'#44b700',color:'#44b700',boxShadow:\"0 0 0 2px \".concat(theme.palette.background.paper),'&::after':{position:'absolute',top:0,left:0,width:'100%',height:'100%',borderRadius:'50%',animation:'ripple 1.2s infinite ease-in-out',border:'1px solid currentColor',content:'\"\"'}},'@keyframes ripple':{'0%':{transform:'scale(.8)',opacity:1},'100%':{transform:'scale(2.4)',opacity:0}}};});function SideBar(_ref6){var setName=_ref6.setName;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useContext=useContext(UserContext),user=_useContext.user;var _useContext2=useContext(ChatContext),setChat=_useContext2.setChat;var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),sideMsg=_useState4[0],setSideMsg=_useState4[1];useEffect(function(){users.map(function(item){// console.log(item.Name);\nvar msg=localStorage.getItem(item.Name);msg=JSON.parse(msg);if(msg){setSideMsg(function(m){return[].concat(_toConsumableArray(m),[{to:item.Name,message:msg}]);});}});},[users]);useEffect(function(){socket.on('activeUser',function(data){setUsers(_toConsumableArray(data));});});return/*#__PURE__*/_jsx(Box,{pt:13,children:/*#__PURE__*/_jsx(Box,{sx:{width:{xs:\"100%\",sm:'35%',md:\"25%\"},height:\"100%\",bgcolor:\"#f7f7f8\",position:\"fixed\",mt:-1},children:/*#__PURE__*/_jsx(Box,{sx:{overflowY:\"scroll\",overflow:'hidden',mt:-1},children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',pr:'2.6%'},children:[/*#__PURE__*/_jsxs(Search,{sx:{ml:'0.5rem',mt:'1rem'},children:[/*#__PURE__*/_jsx(SearchIconWrapper,{children:/*#__PURE__*/_jsx(SearchIcon,{})}),/*#__PURE__*/_jsx(StyledInputBase,{placeholder:\"Search\\u2026\",inputProps:{'aria-label':'search'}})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h8\",fontWeight:\"100\",mt:2,ml:2,children:\"Online Friends\"})]}),users.map(function(User){return/*#__PURE__*/_jsx(Box,{children:user.Name!==User.Name&&/*#__PURE__*/_jsxs(StyledBox,{height:70,sx:{width:'100%','&:hover':{backgroundColor:'#E6E6E6'}},pl:2,onClick:function onClick(){setChat(User);setName(User.Name);},children:[/*#__PURE__*/_jsx(StyledBadge,{overlap:\"circular\",anchorOrigin:{vertical:'bottom',horizontal:'right'},variant:\"dot\",children:/*#__PURE__*/_jsx(Avatar,{alt:\"Remy Sharp\",src:User.imageURL})}),/*#__PURE__*/_jsxs(Box,{ml:2,children:[/*#__PURE__*/_jsx(Typography,{level:\"body1\",color:\"#638bfa\",children:User.Name}),sideMsg.map(function(item,index){return/*#__PURE__*/_jsx(Typography,{sx:{fontSize:'0.9rem',color:'#808080'},children:item.to===User.Name&&item.message},index);})]})]},User.Name)},User.Name);})]})})})});}export default SideBar;","map":{"version":3,"names":["Typography","Box","React","useEffect","useState","useContext","Avatar","styled","Badge","ChatContext","UserContext","SearchIcon","InputBase","socket","StyledBox","display","gap","width","alignItems","borderRadius","Search","theme","position","backgroundColor","marginLeft","breakpoints","up","spacing","SearchIconWrapper","padding","height","pointerEvents","justifyContent","StyledInputBase","color","paddingLeft","transition","transitions","create","StyledBadge","boxShadow","palette","background","paper","top","left","animation","border","content","transform","opacity","SideBar","setName","users","setUsers","user","setChat","sideMsg","setSideMsg","map","item","msg","localStorage","getItem","Name","JSON","parse","m","to","message","on","data","xs","sm","md","bgcolor","mt","overflowY","overflow","flexDirection","pr","ml","User","vertical","horizontal","imageURL","index","fontSize"],"sources":["/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/src/components/SideBar.jsx"],"sourcesContent":["import { Typography } from '@mui/material'\nimport { Box } from '@mui/system'\nimport React, { useEffect, useState, useContext } from 'react'\nimport Avatar from '@mui/material/Avatar';\nimport { styled } from '@mui/material/styles';\nimport Badge from '@mui/material/Badge';\nimport { ChatContext } from '../Context/ChatContext';\n// import { ChatIDContext } from '../Context/ChatIDContext';\n// import axios from '../axios'\n// import { baseUrl } from '../url';\nimport { UserContext } from '../Context/Context';\nimport SearchIcon from '@mui/icons-material/Search';\nimport InputBase from '@mui/material/InputBase';\nimport socket from '../socket';\nimport './background/bg.css'\n\nconst StyledBox = styled(Box)({\n    display: \"flex\",\n    gap: 2,\n    width: 380,\n    alignItems: \"center\",\n    borderRadius: 4,\n})\n\nconst Search = styled('div')(({ theme }) => ({\n    position: 'relative',\n    borderRadius: '0.5rem',\n    backgroundColor: 'white',\n    '&:hover': {\n        backgroundColor: 'white',\n    },\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n        marginLeft: theme.spacing(1),\n        width: 'auto',\n    },\n}));\n\nconst SearchIconWrapper = styled('div')(({ theme }) => ({\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n}));\n\nconst StyledInputBase = styled(InputBase)(({ theme }) => ({\n    color: 'inherit',\n    '& .MuiInputBase-input': {\n        padding: theme.spacing(1, 1, 1, 0),\n        // vertical padding + font size from searchIcon\n        paddingLeft: `calc(1em + ${theme.spacing(4)})`,\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            width: '12ch',\n            '&:focus': {\n                width: '20ch',\n            },\n        },\n    },\n}));\n\nconst StyledBadge = styled(Badge)(({ theme }) => ({\n    '& .MuiBadge-badge': {\n        backgroundColor: '#44b700',\n        color: '#44b700',\n        boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n        '&::after': {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            borderRadius: '50%',\n            animation: 'ripple 1.2s infinite ease-in-out',\n            border: '1px solid currentColor',\n            content: '\"\"',\n        },\n    },\n    '@keyframes ripple': {\n        '0%': {\n            transform: 'scale(.8)',\n            opacity: 1,\n        },\n        '100%': {\n            transform: 'scale(2.4)',\n            opacity: 0,\n        },\n    },\n}));\n\nfunction SideBar({ setName }) {\n    const [users, setUsers] = useState([])\n    const { user } = useContext(UserContext)\n    const { setChat } = useContext(ChatContext)\n    const [sideMsg, setSideMsg] = useState([])\n\n    useEffect(() => {\n        users.map((item) => {\n            // console.log(item.Name);\n            let msg = localStorage.getItem(item.Name)\n            msg = JSON.parse(msg)\n            if (msg) {\n                setSideMsg(m => [...m, { to: item.Name, message: msg }])\n            }\n\n        })\n    },[users])\n\n\n\n\n    useEffect(() => {\n\n        socket.on('activeUser', (data) => {\n            setUsers([...data])\n        })\n\n    })\n\n\n    return (\n\n        <Box pt={13} >\n            <Box sx={{\n                width: { xs: \"100%\", sm: '35%', md: \"25%\" },\n                height: \"100%\",\n                bgcolor: \"#f7f7f8\",\n                position: \"fixed\",\n                mt: -1\n            }}>\n                <Box sx={{\n                    overflowY: \"scroll\",\n                    overflow: 'hidden',\n                    mt: -1\n                }}>\n                    <Box>\n                        <Box sx={{\n                            display: 'flex',\n                            flexDirection: 'column',\n                            pr: '2.6%'\n                        }}>\n                            <Search sx={{ ml: '0.5rem', mt: '1rem' }}>\n                                <SearchIconWrapper>\n                                    <SearchIcon />\n                                </SearchIconWrapper>\n                                <StyledInputBase\n                                    placeholder=\"Search…\"\n                                    inputProps={{ 'aria-label': 'search' }}\n                                />\n                            </Search>\n                            <Typography variant=\"h8\" fontWeight=\"100\" mt={2} ml={2}>Online Friends</Typography>\n                        </Box>\n                        {users.map((User) => (\n                            <Box key={User.Name}>\n                                {user.Name !== User.Name && (\n\n\n                                    <StyledBox\n                                        key={User.Name}\n                                        height={70}\n                                        sx={{\n                                            width: '100%',\n                                            '&:hover': {\n                                                backgroundColor: '#E6E6E6',\n                                            }\n                                        }}\n                                        pl={2}\n                                        onClick={() => {\n                                            setChat(User)\n                                            setName(User.Name)\n                                        }}\n                                    >\n                                        {/* <IconButton/> */}\n                                        <StyledBadge\n                                            overlap=\"circular\"\n                                            anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\n                                            variant=\"dot\"\n\n                                        >\n                                            <Avatar alt=\"Remy Sharp\" src={User.imageURL} />\n                                        </StyledBadge>\n                                        <Box ml={2} >\n                                            <Typography level='body1' color='#638bfa'>{User.Name}</Typography>\n                                            {sideMsg.map((item,index) =>\n                                                <Typography key={index} sx={{ fontSize: '0.9rem', color: '#808080' }}  >{item.to === User.Name && item.message}</Typography>\n                                            )}\n                                        </Box>\n                                    </StyledBox>\n                                )}\n                            </Box>\n                        ))}\n                    </Box>\n                </Box>\n            </Box>\n        </Box>\n\n    )\n}\n\nexport default SideBar"],"mappings":"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"},"metadata":{},"sourceType":"module"}