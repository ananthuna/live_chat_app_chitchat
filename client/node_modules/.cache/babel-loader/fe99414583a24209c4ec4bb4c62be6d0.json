{"ast":null,"code":"import{Box,Typography}from'@mui/material';import React,{useContext}from'react';import{ChatContext}from'../Context/ChatContext';import{UserContext}from'../Context/Context';import socket from'../socket';import'./background/bg.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ChatBody(_ref){var messages=_ref.messages,lastMessageRef=_ref.lastMessageRef,typingStatus=_ref.typingStatus;var _useContext=useContext(ChatContext),chat=_useContext.chat;var _useContext2=useContext(UserContext),user=_useContext2.user;React.useEffect(function(){// send typing status to backend using socket.io\n// socket.on('typingResponse', (data) => setTypingStatus(data));\n},[]);return/*#__PURE__*/_jsx(Box,{position:\"relative\",zIndex:100,mt:\"4rem\",children:/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Box,{sx:{overflowY:\"scroll\",overflow:'hidden'},children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{pb:8},children:[chat?messages.map(function(message,index){return message.from===user.Name?/*#__PURE__*/_jsx(Box,{display:\"inline-flex\",width:\"100%\",justifyContent:\"right\",sx:{p:2},children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{align:\"right\",children:\"you\"}),/*#__PURE__*/_jsx(Box,{sx:{bgcolor:\"#c1d4f7\",Width:\"50%\",p:2,borderRadius:4,fontSize:\"2rem\"},children:/*#__PURE__*/_jsx(Typography,{sx:{fontSize:'0.9rem',lineHeight:'8px'},children:message.message})})]})},index):/*#__PURE__*/_jsx(Box,{display:\"inline-flex\",width:\"100%\",justifyContent:\"left\",sx:{p:2},children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{align:\"left\",children:message.from}),/*#__PURE__*/_jsx(Box,{sx:{bgcolor:\"rgb(194, 243, 194)\",Width:\"50%\",p:2,borderRadius:4,ml:1},children:/*#__PURE__*/_jsx(Typography,{sx:{fontSize:'0.9rem',lineHeight:'8px'},children:message.message})})]})},index);}):/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",justifyContent:\"center\",pt:20},children:/*#__PURE__*/_jsx(Typography,{children:\"Chat is empty \"})}),/*#__PURE__*/_jsx(Box,{ref:lastMessageRef})]}),/*#__PURE__*/_jsx(Box,{sx:{position:\"fixed\",bottom:\"10%\",left:{xs:\"5%\",sm:\"41%\"}},children:/*#__PURE__*/_jsx(Typography,{children:typingStatus&&chat&&\"\".concat(typingStatus,\" is typing...\")})})]})})})});}export default ChatBody;","map":{"version":3,"names":["Box","Typography","React","useContext","ChatContext","UserContext","socket","ChatBody","messages","lastMessageRef","typingStatus","chat","user","useEffect","overflowY","overflow","pb","map","message","index","from","Name","p","bgcolor","Width","borderRadius","fontSize","lineHeight","ml","display","justifyContent","pt","position","bottom","left","xs","sm"],"sources":["/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/src/components/ChatBody.jsx"],"sourcesContent":["import { Box, Typography } from '@mui/material'\nimport React, { useContext } from 'react'\nimport { ChatContext } from '../Context/ChatContext';\nimport { UserContext } from '../Context/Context';\nimport socket from '../socket';\nimport './background/bg.css'\n\nfunction ChatBody({ messages, lastMessageRef,typingStatus }) {\n  const { chat } = useContext(ChatContext)\n  const { user } = useContext(UserContext)\n\n  React.useEffect(() => {\n    // send typing status to backend using socket.io\n    // socket.on('typingResponse', (data) => setTypingStatus(data));\n  }, []);\n\n\n\n  return (\n\n    <Box position='relative' zIndex={100} mt='4rem'>\n      <Box>\n        <Box sx={{ overflowY: \"scroll\", overflow: 'hidden' }}>\n          <Box>\n            <Box sx={{ pb: 8 }}>\n              {/* ////// */}\n              {chat ? (messages.map((message, index) =>\n                message.from === user.Name ? (\n                  <Box\n                    key={index}\n                    display=\"inline-flex\"\n                    width='100%'\n                    justifyContent=\"right\"\n                    sx={{ p: 2, }}>\n                    <Box>\n                      <Typography align='right'>you</Typography>\n                      <Box sx={{ bgcolor: \"#c1d4f7\", Width: \"50%\", p: 2, borderRadius: 4, fontSize: \"2rem\" }}>\n                        <Typography sx={{ fontSize: '0.9rem', lineHeight: '8px' }}>{message.message}</Typography>\n                      </Box>\n                    </Box>\n                  </Box>\n                ) : (\n                  <Box\n                    key={index}\n                    display=\"inline-flex\"\n                    width='100%'\n                    justifyContent=\"left\"\n                    sx={{ p: 2, }}>\n                    <Box>\n                      <Typography align='left'>{message.from}</Typography>\n                      <Box sx={{ bgcolor: \"rgb(194, 243, 194)\", Width: \"50%\", p: 2, borderRadius: 4, ml: 1 }}>\n                        <Typography sx={{ fontSize: '0.9rem', lineHeight: '8px' }}>{message.message}</Typography>\n                      </Box>\n                    </Box>\n                  </Box>\n                ))) : (\n                <Box sx={{ display: \"flex\", justifyContent: \"center\", pt: 20 }}>\n                  <Typography>Chat is empty </Typography>\n                </Box>\n              )}\n\n              <Box ref={lastMessageRef} />\n            </Box>\n            <Box sx={{ position: \"fixed\", bottom: \"10%\", left: { xs: \"5%\", sm: \"41%\" } }}>\n              <Typography>{typingStatus && chat && `${typingStatus} is typing...`}</Typography>\n            </Box>\n          </Box>\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n\nexport default ChatBody\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}