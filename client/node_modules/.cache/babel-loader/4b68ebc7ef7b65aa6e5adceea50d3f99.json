{"ast":null,"code":"import _slicedToArray from\"/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Input,TextField,FormControl,IconButton}from'@mui/material';import{Box}from'@mui/system';import React,{useState,useContext}from'react';import SendIcon from'@mui/icons-material/Send';import{ChatIDContext}from'../Context/ChatIDContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ChatFooter(_ref){var socket=_ref.socket,user=_ref.user,userId=_ref.userId;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useContext=useContext(ChatIDContext),chatID=_useContext.chatID;var type=user;var content={text:message,user:user};if(!chatID){type='';socket.emit('typing',type);}var handleSendMessage=function handleSendMessage(e){e.preventDefault();type='';socket.emit('typing',type);if(message.trim()&&chatID){console.log('sended');socket.emit('private message',{content:content,to:chatID,from:userId});}setMessage('');};var handleTyping=function handleTyping(){socket.emit('typing',type);};return/*#__PURE__*/_jsxs(Box,{sx:{position:\"fixed\",bottom:\"2%\",width:{xs:\"100%\",sm:\"75%\"}},children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Box,{sx:{ml:'1rem',mr:'1rem'},children:/*#__PURE__*/_jsxs(Box,{alignItems:\"center\",component:\"form\",onSubmit:handleSendMessage,children:[/*#__PURE__*/_jsx(Input,{sx:{bgcolor:'#f7f7f8',width:{xs:'100%',sm:'85%',md:'100%'},height:'2.5rem',borderRadius:5,pl:'2rem'},placeholder:\"Write somthing.....\",disableUnderline:true,value:message,name:\"text\",onChange:function onChange(e){return setMessage(e.target.value);},onKeyDown:handleTyping}),/*#__PURE__*/_jsx(IconButton,{type:\"submit\",color:\"primary\",sx:{ml:'-2.5rem'},children:/*#__PURE__*/_jsx(SendIcon,{})})]})})]});}export default ChatFooter;","map":{"version":3,"names":["Button","Input","TextField","FormControl","IconButton","Box","React","useState","useContext","SendIcon","ChatIDContext","ChatFooter","socket","user","userId","message","setMessage","chatID","type","content","text","emit","handleSendMessage","e","preventDefault","trim","console","log","to","from","handleTyping","position","bottom","width","xs","sm","ml","mr","bgcolor","md","height","borderRadius","pl","target","value"],"sources":["/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/src/components/ChatFooter.jsx"],"sourcesContent":["import { Button, Input, TextField, FormControl, IconButton } from '@mui/material'\nimport { Box } from '@mui/system'\nimport React, { useState, useContext } from 'react'\nimport SendIcon from '@mui/icons-material/Send';\nimport { ChatIDContext } from '../Context/ChatIDContext';\n\nfunction ChatFooter({ socket, user, userId }) {\n\n    const [message, setMessage] = useState('');\n    const { chatID } = useContext(ChatIDContext)\n    let type = user\n    let content = {\n        text: message,\n        user: user,\n    }\n\n    if (!chatID) {\n        type = '';\n        socket.emit('typing', type)\n    }\n\n\n    const handleSendMessage = (e) => {\n        e.preventDefault();\n        type = '';\n        socket.emit('typing', type)\n        if (message.trim() && chatID) {\n            console.log('sended');\n            socket.emit('private message', {\n                content,\n                to: chatID,\n                from: userId\n            })\n        }\n        setMessage('');\n\n    };\n    const handleTyping = () => {\n        socket.emit('typing', type)\n    }\n\n    return (\n        <Box sx={{ position: \"fixed\", bottom: \"2%\", width: { xs: \"100%\", sm: \"75%\", } }}>\n            <hr />\n            <Box sx={{ ml: '1rem', mr: '1rem' }}>\n                <Box alignItems='center' component=\"form\" onSubmit={handleSendMessage}>\n                    <Input sx={{\n                        bgcolor: '#f7f7f8',\n                        width: {xs:'100%',sm:'85%', md: '100%' },\n                        height: '2.5rem',\n                        borderRadius: 5,\n                        pl: '2rem'\n                    }}\n                        placeholder=\"Write somthing.....\"\n                        disableUnderline={true}\n                        value={message}\n                        name=\"text\"\n                        onChange={(e) => setMessage(e.target.value)}\n                        onKeyDown={handleTyping}\n                    />\n                    <IconButton type=\"submit\" color='primary' sx={{ ml: '-2.5rem' }}>\n                        <SendIcon />\n                    </IconButton>\n                    {/* <Input\n                        value={message}\n                        name=\"text\"\n                        onChange={(e) => setMessage(e.target.value)}\n                        onKeyDown={handleTyping}\n                        sx={{ width: '75%', borderRadius: 4, pl: 1, bgcolor: '#f7f7f8' }}\n                    />\n                    <Button sx={{ width: '25%' }} variant=\"contained\" type=\"submit\" endIcon={<SendIcon />}>\n                        Send\n                    </Button> */}\n                </Box>\n            </Box>\n        </Box>\n    )\n}\n\nexport default ChatFooter\n"],"mappings":"mJAAA,OAASA,MAAT,CAAiBC,KAAjB,CAAwBC,SAAxB,CAAmCC,WAAnC,CAAgDC,UAAhD,KAAkE,eAAlE,CACA,OAASC,GAAT,KAAoB,aAApB,CACA,MAAOC,MAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,MAAOC,SAAP,KAAqB,0BAArB,CACA,OAASC,aAAT,KAA8B,0BAA9B,C,wFAEA,QAASC,WAAT,MAA8C,IAAxBC,OAAwB,MAAxBA,MAAwB,CAAhBC,IAAgB,MAAhBA,IAAgB,CAAVC,MAAU,MAAVA,MAAU,CAE1C,cAA8BP,QAAQ,CAAC,EAAD,CAAtC,wCAAOQ,OAAP,eAAgBC,UAAhB,eACA,gBAAmBR,UAAU,CAACE,aAAD,CAA7B,CAAQO,MAAR,aAAQA,MAAR,CACA,GAAIC,KAAI,CAAGL,IAAX,CACA,GAAIM,QAAO,CAAG,CACVC,IAAI,CAAEL,OADI,CAEVF,IAAI,CAAEA,IAFI,CAAd,CAKA,GAAI,CAACI,MAAL,CAAa,CACTC,IAAI,CAAG,EAAP,CACAN,MAAM,CAACS,IAAP,CAAY,QAAZ,CAAsBH,IAAtB,EACH,CAGD,GAAMI,kBAAiB,CAAG,QAApBA,kBAAoB,CAACC,CAAD,CAAO,CAC7BA,CAAC,CAACC,cAAF,GACAN,IAAI,CAAG,EAAP,CACAN,MAAM,CAACS,IAAP,CAAY,QAAZ,CAAsBH,IAAtB,EACA,GAAIH,OAAO,CAACU,IAAR,IAAkBR,MAAtB,CAA8B,CAC1BS,OAAO,CAACC,GAAR,CAAY,QAAZ,EACAf,MAAM,CAACS,IAAP,CAAY,iBAAZ,CAA+B,CAC3BF,OAAO,CAAPA,OAD2B,CAE3BS,EAAE,CAAEX,MAFuB,CAG3BY,IAAI,CAAEf,MAHqB,CAA/B,EAKH,CACDE,UAAU,CAAC,EAAD,CAAV,CAEH,CAdD,CAeA,GAAMc,aAAY,CAAG,QAAfA,aAAe,EAAM,CACvBlB,MAAM,CAACS,IAAP,CAAY,QAAZ,CAAsBH,IAAtB,EACH,CAFD,CAIA,mBACI,MAAC,GAAD,EAAK,EAAE,CAAE,CAAEa,QAAQ,CAAE,OAAZ,CAAqBC,MAAM,CAAE,IAA7B,CAAmCC,KAAK,CAAE,CAAEC,EAAE,CAAE,MAAN,CAAcC,EAAE,CAAE,KAAlB,CAA1C,CAAT,wBACI,aADJ,cAEI,KAAC,GAAD,EAAK,EAAE,CAAE,CAAEC,EAAE,CAAE,MAAN,CAAcC,EAAE,CAAE,MAAlB,CAAT,uBACI,MAAC,GAAD,EAAK,UAAU,CAAC,QAAhB,CAAyB,SAAS,CAAC,MAAnC,CAA0C,QAAQ,CAAEf,iBAApD,wBACI,KAAC,KAAD,EAAO,EAAE,CAAE,CACPgB,OAAO,CAAE,SADF,CAEPL,KAAK,CAAE,CAACC,EAAE,CAAC,MAAJ,CAAWC,EAAE,CAAC,KAAd,CAAqBI,EAAE,CAAE,MAAzB,CAFA,CAGPC,MAAM,CAAE,QAHD,CAIPC,YAAY,CAAE,CAJP,CAKPC,EAAE,CAAE,MALG,CAAX,CAOI,WAAW,CAAC,qBAPhB,CAQI,gBAAgB,CAAE,IARtB,CASI,KAAK,CAAE3B,OATX,CAUI,IAAI,CAAC,MAVT,CAWI,QAAQ,CAAE,kBAACQ,CAAD,QAAOP,WAAU,CAACO,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAjB,EAXd,CAYI,SAAS,CAAEd,YAZf,EADJ,cAeI,KAAC,UAAD,EAAY,IAAI,CAAC,QAAjB,CAA0B,KAAK,CAAC,SAAhC,CAA0C,EAAE,CAAE,CAAEM,EAAE,CAAE,SAAN,CAA9C,uBACI,KAAC,QAAD,IADJ,EAfJ,GADJ,EAFJ,GADJ,CAoCH,CAED,cAAezB,WAAf"},"metadata":{},"sourceType":"module"}