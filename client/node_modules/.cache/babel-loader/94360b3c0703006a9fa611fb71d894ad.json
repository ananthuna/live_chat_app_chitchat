{"ast":null,"code":"import _toConsumableArray from\"/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import{IconButton,Typography}from'@mui/material';import{Box}from'@mui/system';import React,{useEffect,useState,useContext}from'react';import Avatar from'@mui/material/Avatar';import{styled}from'@mui/material/styles';import Badge from'@mui/material/Badge';import{ChatContext}from'../Context/ChatContext';import{ChatIDContext}from'../Context/ChatIDContext';import axios from'../axios';import{baseUrl}from'../url';import{UserContext}from'../Context/Context';import SearchIcon from'@mui/icons-material/Search';import InputBase from'@mui/material/InputBase';import socket from'../socket';import'./background/bg.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledBox=styled(Box)({display:\"flex\",gap:2,width:380,alignItems:\"center\",borderRadius:4});var Search=styled('div')(function(_ref){var theme=_ref.theme;return _defineProperty({position:'relative',borderRadius:'0.5rem',backgroundColor:'white','&:hover':{backgroundColor:'white'},marginLeft:0,width:'100%'},theme.breakpoints.up('sm'),{marginLeft:theme.spacing(1),width:'auto'});});var SearchIconWrapper=styled('div')(function(_ref3){var theme=_ref3.theme;return{padding:theme.spacing(0,2),height:'100%',position:'absolute',pointerEvents:'none',display:'flex',alignItems:'center',justifyContent:'center'};});var StyledInputBase=styled(InputBase)(function(_ref4){var theme=_ref4.theme;return{color:'inherit','& .MuiInputBase-input':_defineProperty({padding:theme.spacing(1,1,1,0),// vertical padding + font size from searchIcon\npaddingLeft:\"calc(1em + \".concat(theme.spacing(4),\")\"),transition:theme.transitions.create('width'),width:'100%'},theme.breakpoints.up('sm'),{width:'12ch','&:focus':{width:'20ch'}})};});var StyledBadge=styled(Badge)(function(_ref5){var theme=_ref5.theme;return{'& .MuiBadge-badge':{backgroundColor:'#44b700',color:'#44b700',boxShadow:\"0 0 0 2px \".concat(theme.palette.background.paper),'&::after':{position:'absolute',top:0,left:0,width:'100%',height:'100%',borderRadius:'50%',animation:'ripple 1.2s infinite ease-in-out',border:'1px solid currentColor',content:'\"\"'}},'@keyframes ripple':{'0%':{transform:'scale(.8)',opacity:1},'100%':{transform:'scale(2.4)',opacity:0}}};});function SideBar(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useContext=useContext(UserContext),user=_useContext.user;var _useContext2=useContext(ChatContext),setChat=_useContext2.setChat,chat=_useContext2.chat;// useEffect(() => {\n//     socket.on('activeUser', (data) => {\n//         setUsers(data)\n//         console.log(data);\n//     })\n// }, [socket])\nuseEffect(function(){socket.on('activeUser',function(data){// console.log(data);\nsetUsers(_toConsumableArray(data));});},[socket]);// axios.get(`${baseUrl}/activeUsers`, { withCredentials: true }).then((response) => {\n//     setUsers(response.data)\n//     console.log(response.data);\n// }, [useradmin])\n// }, [socket]);\nreturn/*#__PURE__*/_jsx(Box,{pt:13,children:/*#__PURE__*/_jsx(Box,{sx:{width:{xs:\"100%\",sm:'35%',md:\"25%\"},height:\"100%\",bgcolor:\"#f7f7f8\",position:\"fixed\",mt:-1},children:/*#__PURE__*/_jsx(Box,{sx:{overflowY:\"scroll\",overflow:'hidden',mt:-1},children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',pr:'2.6%'},children:[/*#__PURE__*/_jsxs(Search,{sx:{ml:'0.5rem',mt:'1rem'},children:[/*#__PURE__*/_jsx(SearchIconWrapper,{children:/*#__PURE__*/_jsx(SearchIcon,{})}),/*#__PURE__*/_jsx(StyledInputBase,{placeholder:\"Search\\u2026\",inputProps:{'aria-label':'search'}})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h8\",fontWeight:\"100\",mt:2,ml:2,children:\"Online Friends\"})]}),users.map(function(User){return/*#__PURE__*/_jsx(Box,{children:user.Name!==User.Name&&/*#__PURE__*/_jsxs(StyledBox,{height:70,sx:{width:'100%','&:hover':{backgroundColor:'#E6E6E6'}},pl:2,onClick:function onClick(){return setChat(User);},children:[/*#__PURE__*/_jsx(StyledBadge,{overlap:\"circular\",anchorOrigin:{vertical:'bottom',horizontal:'right'},variant:\"dot\",children:/*#__PURE__*/_jsx(Avatar,{alt:\"Remy Sharp\",src:User.imageURL})}),/*#__PURE__*/_jsx(Box,{ml:2,children:/*#__PURE__*/_jsx(Typography,{level:\"body1\",color:\"#638bfa\",children:User.Name})})]},User.Name)},User.Name);})]})})})});}export default SideBar;","map":{"version":3,"names":["IconButton","Typography","Box","React","useEffect","useState","useContext","Avatar","styled","Badge","ChatContext","ChatIDContext","axios","baseUrl","UserContext","SearchIcon","InputBase","socket","StyledBox","display","gap","width","alignItems","borderRadius","Search","theme","position","backgroundColor","marginLeft","breakpoints","up","spacing","SearchIconWrapper","padding","height","pointerEvents","justifyContent","StyledInputBase","color","paddingLeft","transition","transitions","create","StyledBadge","boxShadow","palette","background","paper","top","left","animation","border","content","transform","opacity","SideBar","users","setUsers","user","setChat","chat","on","data","xs","sm","md","bgcolor","mt","overflowY","overflow","flexDirection","pr","ml","map","User","Name","vertical","horizontal","imageURL"],"sources":["/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/src/components/SideBar.jsx"],"sourcesContent":["import { IconButton, Typography } from '@mui/material'\nimport { Box } from '@mui/system'\nimport React, { useEffect, useState, useContext } from 'react'\nimport Avatar from '@mui/material/Avatar';\nimport { styled } from '@mui/material/styles';\nimport Badge from '@mui/material/Badge';\nimport { ChatContext } from '../Context/ChatContext';\nimport { ChatIDContext } from '../Context/ChatIDContext';\nimport axios from '../axios'\nimport { baseUrl } from '../url';\nimport { UserContext } from '../Context/Context';\nimport SearchIcon from '@mui/icons-material/Search';\nimport InputBase from '@mui/material/InputBase';\nimport socket from '../socket';\nimport './background/bg.css'\n\nconst StyledBox = styled(Box)({\n    display: \"flex\",\n    gap: 2,\n    width: 380,\n    alignItems: \"center\",\n    borderRadius: 4,\n})\n\nconst Search = styled('div')(({ theme }) => ({\n    position: 'relative',\n    borderRadius: '0.5rem',\n    backgroundColor: 'white',\n    '&:hover': {\n        backgroundColor: 'white',\n    },\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n        marginLeft: theme.spacing(1),\n        width: 'auto',\n    },\n}));\n\nconst SearchIconWrapper = styled('div')(({ theme }) => ({\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n}));\n\nconst StyledInputBase = styled(InputBase)(({ theme }) => ({\n    color: 'inherit',\n    '& .MuiInputBase-input': {\n        padding: theme.spacing(1, 1, 1, 0),\n        // vertical padding + font size from searchIcon\n        paddingLeft: `calc(1em + ${theme.spacing(4)})`,\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            width: '12ch',\n            '&:focus': {\n                width: '20ch',\n            },\n        },\n    },\n}));\n\nconst StyledBadge = styled(Badge)(({ theme }) => ({\n    '& .MuiBadge-badge': {\n        backgroundColor: '#44b700',\n        color: '#44b700',\n        boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n        '&::after': {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            borderRadius: '50%',\n            animation: 'ripple 1.2s infinite ease-in-out',\n            border: '1px solid currentColor',\n            content: '\"\"',\n        },\n    },\n    '@keyframes ripple': {\n        '0%': {\n            transform: 'scale(.8)',\n            opacity: 1,\n        },\n        '100%': {\n            transform: 'scale(2.4)',\n            opacity: 0,\n        },\n    },\n}));\n\nfunction SideBar() {\n    const [users, setUsers] = useState([]);\n    const { user } = useContext(UserContext)\n    const { setChat, chat } = useContext(ChatContext)\n\n\n\n    // useEffect(() => {\n    //     socket.on('activeUser', (data) => {\n    //         setUsers(data)\n    //         console.log(data);\n    //     })\n    // }, [socket])\n    useEffect(() => {\n\n        socket.on('activeUser', (data) => {\n            // console.log(data);\n            setUsers([...data])\n        })\n    }, [socket])\n\n\n    // axios.get(`${baseUrl}/activeUsers`, { withCredentials: true }).then((response) => {\n    //     setUsers(response.data)\n    //     console.log(response.data);\n    // }, [useradmin])\n\n    // }, [socket]);\n\n    return (\n\n        <Box pt={13} >\n            <Box sx={{\n                width: { xs: \"100%\", sm: '35%', md: \"25%\" },\n                height: \"100%\",\n                bgcolor: \"#f7f7f8\",\n                position: \"fixed\",\n                mt: -1\n            }}>\n                <Box sx={{\n                    overflowY: \"scroll\",\n                    overflow: 'hidden',\n                    mt: -1\n                }}>\n                    <Box>\n                        <Box sx={{\n                            display: 'flex',\n                            flexDirection: 'column',\n                            pr: '2.6%'\n                        }}>\n                            <Search sx={{ ml: '0.5rem', mt: '1rem' }}>\n                                <SearchIconWrapper>\n                                    <SearchIcon />\n                                </SearchIconWrapper>\n                                <StyledInputBase\n                                    placeholder=\"Searchâ€¦\"\n                                    inputProps={{ 'aria-label': 'search' }}\n                                />\n                            </Search>\n                            <Typography variant=\"h8\" fontWeight=\"100\" mt={2} ml={2}>Online Friends</Typography>\n                        </Box>\n                        {users.map((User) => (\n                            <Box key={User.Name}>\n                                {user.Name !== User.Name && (\n                                   \n                                    \n                                    <StyledBox\n                                    key={User.Name}\n                                        height={70}\n                                        sx={{\n                                            width: '100%',\n                                            '&:hover': {\n                                                backgroundColor: '#E6E6E6',\n                                            }\n                                        }}\n                                        pl={2}\n                                        onClick={() => setChat(User)}\n                                    >\n                                        {/* <IconButton/> */}\n                                        <StyledBadge\n                                            overlap=\"circular\"\n                                            anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\n                                            variant=\"dot\"\n\n                                        >\n                                            <Avatar alt=\"Remy Sharp\" src={User.imageURL} />\n                                        </StyledBadge>\n                                        <Box ml={2} >\n                                            <Typography level='body1' color='#638bfa'>{User.Name}</Typography>\n                                            {/* {message && (<Typography sx={{ fontSize: '0.9rem', color: '#808080' }}  >{user.userName === message.user && !chat && message.text}</Typography>)} */}\n                                        </Box>\n                                    </StyledBox>\n                                )}\n                            </Box>\n                        ))}\n                    </Box>\n                </Box>\n            </Box>\n        </Box>\n\n    )\n}\n\nexport default SideBar"],"mappings":"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"},"metadata":{},"sourceType":"module"}