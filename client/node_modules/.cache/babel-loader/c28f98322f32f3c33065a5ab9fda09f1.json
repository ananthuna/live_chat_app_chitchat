{"ast":null,"code":"import _slicedToArray from\"/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import Button from'@mui/material/Button';import{UserContext}from'../Context/Context';import axios from'../axios';import{Box,Typography}from\"@mui/material\";import{baseUrl}from'../url';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UploadAndDisplayImage=function UploadAndDisplayImage(_ref){var user=_ref.user;var _useState=useState(),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImages=_useState2[1];var _useContext=useContext(UserContext),setImage=_useContext.setImage;var _useContext2=useContext(UserContext),setProfilePhoto=_useContext2.setProfilePhoto;var upload=function upload(event){setImages(event.target.files[0]);var data=new FormData();data.append('file',event.target.files[0]);axios.post(\"\".concat(baseUrl,\"/imageUpdate\"),data,{withCredentials:true}).then(function(doc){});};var uploadFile=function uploadFile(){console.log('img uploaded');setImage(false);setProfilePhoto(false);};return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{children:\"Upload Image\"}),images&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{alt:\"not fount\",width:\"250px\",src:user.imageURL}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{onClick:uploadFile,sx:{mt:1,mb:1,pl:2},variant:\"contained\",children:\"Upload\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"file\",onChange:upload})]});};export default UploadAndDisplayImage;","map":{"version":3,"names":["React","useContext","useState","Button","UserContext","axios","Box","Typography","baseUrl","UploadAndDisplayImage","user","images","setImages","setImage","setProfilePhoto","upload","event","target","files","data","FormData","append","post","withCredentials","then","doc","uploadFile","console","log","imageURL","mt","mb","pl"],"sources":["/home/ananthu/Desktop/chat-app/client/chat-app-react-frondend/src/components/UploadAndSelectimage.jsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport Button from '@mui/material/Button';\nimport { UserContext } from '../Context/Context'\nimport axios from '../axios'\nimport { Box, Typography } from \"@mui/material\";\nimport { baseUrl } from '../url';\n\nconst UploadAndDisplayImage = ({user}) => {\n  const [images, setImages] = useState();\n  const { setImage } = useContext(UserContext);\n  const { setProfilePhoto } = useContext(UserContext);\n\n  const upload = (event) => {\n    setImages(event.target.files[0]);\n    const data = new FormData();\n    data.append('file', event.target.files[0]);\n    axios.post(`${baseUrl}/imageUpdate`, data, { withCredentials: true }).then((doc) => {\n    \n    })\n  }\n\n  const uploadFile = () => {\n    console.log('img uploaded')\n    setImage(false)\n    setProfilePhoto(false)\n  }\n\n  return (\n    <Box>\n      <Typography>Upload Image</Typography>\n      {images && (\n        <div>\n          <img alt=\"not fount\" width={\"250px\"} src={user.imageURL} />\n          <br />\n          <Button onClick={uploadFile} sx={{ mt: 1, mb: 1, pl: 2 }} variant=\"contained\">Upload</Button>\n        </div>\n      )}\n      <input\n        type=\"file\"\n        name=\"file\"\n        onChange={upload}\n      />\n    </Box>\n  );\n};\n\nexport default UploadAndDisplayImage;"],"mappings":"mJAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,OAASC,WAAT,KAA4B,oBAA5B,CACA,MAAOC,MAAP,KAAkB,UAAlB,CACA,OAASC,GAAT,CAAcC,UAAd,KAAgC,eAAhC,CACA,OAASC,OAAT,KAAwB,QAAxB,C,wFAEA,GAAMC,sBAAqB,CAAG,QAAxBA,sBAAwB,MAAY,IAAVC,KAAU,MAAVA,IAAU,CACxC,cAA4BR,QAAQ,EAApC,wCAAOS,MAAP,eAAeC,SAAf,eACA,gBAAqBX,UAAU,CAACG,WAAD,CAA/B,CAAQS,QAAR,aAAQA,QAAR,CACA,iBAA4BZ,UAAU,CAACG,WAAD,CAAtC,CAAQU,eAAR,cAAQA,eAAR,CAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,CAACC,KAAD,CAAW,CACxBJ,SAAS,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAD,CAAT,CACA,GAAMC,KAAI,CAAG,GAAIC,SAAJ,EAAb,CACAD,IAAI,CAACE,MAAL,CAAY,MAAZ,CAAoBL,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAApB,EACAb,KAAK,CAACiB,IAAN,WAAcd,OAAd,iBAAqCW,IAArC,CAA2C,CAAEI,eAAe,CAAE,IAAnB,CAA3C,EAAsEC,IAAtE,CAA2E,SAACC,GAAD,CAAS,CAEnF,CAFD,EAGD,CAPD,CASA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvBC,OAAO,CAACC,GAAR,CAAY,cAAZ,EACAf,QAAQ,CAAC,KAAD,CAAR,CACAC,eAAe,CAAC,KAAD,CAAf,CACD,CAJD,CAMA,mBACE,MAAC,GAAD,yBACE,KAAC,UAAD,2BADF,CAEGH,MAAM,eACL,oCACE,YAAK,GAAG,CAAC,WAAT,CAAqB,KAAK,CAAE,OAA5B,CAAqC,GAAG,CAAED,IAAI,CAACmB,QAA/C,EADF,cAEE,aAFF,cAGE,KAAC,MAAD,EAAQ,OAAO,CAAEH,UAAjB,CAA6B,EAAE,CAAE,CAAEI,EAAE,CAAE,CAAN,CAASC,EAAE,CAAE,CAAb,CAAgBC,EAAE,CAAE,CAApB,CAAjC,CAA0D,OAAO,CAAC,WAAlE,oBAHF,GAHJ,cASE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,MAFP,CAGE,QAAQ,CAAEjB,MAHZ,EATF,GADF,CAiBD,CArCD,CAuCA,cAAeN,sBAAf"},"metadata":{},"sourceType":"module"}