{"ast":null,"code":"import _slicedToArray from\"/home/ananthu/Desktop/chat-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box}from'@mui/system';import React,{useRef,useState}from'react';import{useEffect}from'react';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var _require=require('../MediaQuery/MediaDevices'),getConnectedDevices=_require.getConnectedDevices,openCamera=_require.openCamera;function MyVideo(){var videoRef=useRef(null);var _useState=useState(),_useState2=_slicedToArray(_useState,2),devices=_useState2[0],setDevices=_useState2[1];useEffect(function(){getConnectedDevices('videoinput').then(function(doc){return setDevices(doc);});},[]);useEffect(function(){navigator.mediaDevices.addEventListener('devicechange',function(event){getConnectedDevices('videoinput').then(function(doc){return setDevices(doc);});});});var openCam=function openCam(id){if(devices&&devices.length>0){openCamera(id,580,520).then(function(doc){return videoRef.current.srcObject=doc;});}};var openCamStop=function openCamStop(){videoRef.current.srcObject.getTracks().forEach(function(track){track.stop();});videoRef.current.srcObject=null;};return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'space-around',width:'100%',pl:120},children:[devices&&devices.map(function(e,i){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return openCam(e.deviceId);},children:[\"camera\",e.deviceId]},i),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return openCamStop(e.deviceId);},children:\"camera\"},i)]});}),/*#__PURE__*/_jsx(\"video\",{id:\"video001\",ref:videoRef,autoPlay:true,playsInline:true,controls:false})]});}export default MyVideo;","map":{"version":3,"names":["Box","React","useRef","useState","useEffect","require","getConnectedDevices","openCamera","MyVideo","videoRef","devices","setDevices","then","doc","navigator","mediaDevices","addEventListener","event","openCam","id","length","current","srcObject","openCamStop","getTracks","forEach","track","stop","display","alignItems","justifyContent","width","pl","map","e","i","deviceId"],"sources":["/home/ananthu/Desktop/chat-app/client/src/components/MyVideo.js"],"sourcesContent":["import { Box } from '@mui/system'\nimport React, { useRef, useState } from 'react'\nimport { useEffect } from 'react'\nconst { getConnectedDevices, openCamera } = require('../MediaQuery/MediaDevices')\n\n\nfunction MyVideo() {\n    const videoRef = useRef(null)\n    const [devices, setDevices] = useState()\n\n\n\n    useEffect(() => {\n        getConnectedDevices('videoinput')\n            .then(doc => setDevices(doc))\n    }, [])\n\n    useEffect(() => {\n        navigator.mediaDevices.addEventListener('devicechange', event => {\n            getConnectedDevices('videoinput').then(doc => setDevices(doc))\n        })\n    })\n\n    const openCam = (id) => {\n        if (devices && devices.length > 0) {\n            openCamera(id, 580, 520).then(doc => videoRef.current.srcObject = doc)\n        }\n    }\n    const openCamStop = () => {\n        videoRef.current.srcObject.getTracks().forEach(track => {\n            track.stop()\n        })\n        videoRef.current.srcObject = null\n\n    }\n\n    return (\n        <Box sx={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-around',\n            width: '100%',\n            pl: 120\n        }}>\n            {devices && devices.map((e, i) =>\n                <>\n                    <button key={i} onClick={() => openCam(e.deviceId)}>camera{e.deviceId}</button>\n                    <button key={i} onClick={() => openCamStop(e.deviceId)}>camera</button>\n                </>\n            )}\n            <video id='video001' ref={videoRef} autoPlay playsInline controls={false}></video>\n        </Box>\n    )\n}\n\nexport default MyVideo"],"mappings":"2HAAA,OAASA,GAAT,KAAoB,aAApB,CACA,MAAOC,MAAP,EAAgBC,MAAhB,CAAwBC,QAAxB,KAAwC,OAAxC,CACA,OAASC,SAAT,KAA0B,OAA1B,C,6IACA,aAA4CC,OAAO,CAAC,4BAAD,CAAnD,CAAQC,mBAAR,UAAQA,mBAAR,CAA6BC,UAA7B,UAA6BA,UAA7B,CAGA,QAASC,QAAT,EAAmB,CACf,GAAMC,SAAQ,CAAGP,MAAM,CAAC,IAAD,CAAvB,CACA,cAA8BC,QAAQ,EAAtC,wCAAOO,OAAP,eAAgBC,UAAhB,eAIAP,SAAS,CAAC,UAAM,CACZE,mBAAmB,CAAC,YAAD,CAAnB,CACKM,IADL,CACU,SAAAC,GAAG,QAAIF,WAAU,CAACE,GAAD,CAAd,EADb,EAEH,CAHQ,CAGN,EAHM,CAAT,CAKAT,SAAS,CAAC,UAAM,CACZU,SAAS,CAACC,YAAV,CAAuBC,gBAAvB,CAAwC,cAAxC,CAAwD,SAAAC,KAAK,CAAI,CAC7DX,mBAAmB,CAAC,YAAD,CAAnB,CAAkCM,IAAlC,CAAuC,SAAAC,GAAG,QAAIF,WAAU,CAACE,GAAD,CAAd,EAA1C,EACH,CAFD,EAGH,CAJQ,CAAT,CAMA,GAAMK,QAAO,CAAG,QAAVA,QAAU,CAACC,EAAD,CAAQ,CACpB,GAAIT,OAAO,EAAIA,OAAO,CAACU,MAAR,CAAiB,CAAhC,CAAmC,CAC/Bb,UAAU,CAACY,EAAD,CAAK,GAAL,CAAU,GAAV,CAAV,CAAyBP,IAAzB,CAA8B,SAAAC,GAAG,QAAIJ,SAAQ,CAACY,OAAT,CAAiBC,SAAjB,CAA6BT,GAAjC,EAAjC,EACH,CACJ,CAJD,CAKA,GAAMU,YAAW,CAAG,QAAdA,YAAc,EAAM,CACtBd,QAAQ,CAACY,OAAT,CAAiBC,SAAjB,CAA2BE,SAA3B,GAAuCC,OAAvC,CAA+C,SAAAC,KAAK,CAAI,CACpDA,KAAK,CAACC,IAAN,GACH,CAFD,EAGAlB,QAAQ,CAACY,OAAT,CAAiBC,SAAjB,CAA6B,IAA7B,CAEH,CAND,CAQA,mBACI,MAAC,GAAD,EAAK,EAAE,CAAE,CACLM,OAAO,CAAE,MADJ,CAELC,UAAU,CAAE,QAFP,CAGLC,cAAc,CAAE,cAHX,CAILC,KAAK,CAAE,MAJF,CAKLC,EAAE,CAAE,GALC,CAAT,WAOKtB,OAAO,EAAIA,OAAO,CAACuB,GAAR,CAAY,SAACC,CAAD,CAAIC,CAAJ,qBACpB,wCACI,gBAAgB,OAAO,CAAE,yBAAMjB,QAAO,CAACgB,CAAC,CAACE,QAAH,CAAb,EAAzB,oBAA2DF,CAAC,CAACE,QAA7D,GAAaD,CAAb,CADJ,cAEI,eAAgB,OAAO,CAAE,yBAAMZ,YAAW,CAACW,CAAC,CAACE,QAAH,CAAjB,EAAzB,oBAAaD,CAAb,CAFJ,GADoB,EAAZ,CAPhB,cAaI,cAAO,EAAE,CAAC,UAAV,CAAqB,GAAG,CAAE1B,QAA1B,CAAoC,QAAQ,KAA5C,CAA6C,WAAW,KAAxD,CAAyD,QAAQ,CAAE,KAAnE,EAbJ,GADJ,CAiBH,CAED,cAAeD,QAAf"},"metadata":{},"sourceType":"module"}